<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Kciuk Clicker</title>
<style>
body {
    margin: 0;
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #00c6ff, #0072ff, #00ffc3);
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    color: #fff;
}
h1 { margin: 20px 0; font-size: 48px; text-shadow: 2px 2px #00000055; }
#points { font-size: 28px; margin: 10px; text-shadow:1px 1px #00000055; }
#clicker { font-size:100px; cursor:pointer; user-select:none; transition:transform 0.1s; margin:20px;}
#clicker:active { transform: scale(1.2); }
button { cursor:pointer; border:none; border-radius:10px; padding:10px 20px; font-size:16px; margin:5px;}
#openShop { background:#2a9d8f; color:white; transition:0.2s; }
#openShop:hover { background:#21867a; }
#rebirthBtn { background:#ffb703; color:white; transition: background 0.2s; }
#rebirthBtn:hover { background:#fb8500; }

/* Sklep modal */
#shopModal {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
    z-index: 1000;
}
#shopContent {
    background: #fff;
    border-radius: 15px;
    padding: 20px;
    width: 600px;
    max-width: 90%;
    max-height: 80%;
    overflow-y: auto;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    color: #222;
}
#shopContent h2 { margin-bottom: 20px; color:#0072ff; }
.upgrade {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 90%;
    margin: 10px 0;
    padding: 10px;
    background: #f8f8f8;
    border-radius: 10px;
    border: 2px solid #ccc;
    cursor: pointer;
    transition: transform 0.1s, background 0.2s;
    font-size: 18px;
}
.upgrade:hover { background: #d4f8d4; transform: scale(1.03); }
.upgrade span { font-weight: bold; color: #2a9d8f; }
.locked { opacity:0.5; pointer-events:none; font-style:italic; color:#888; }
#closeShop { margin-top:15px; padding:10px 20px; background:#e76f51; color:white; border-radius:10px; }

/* Modal zakupu */
#purchaseModal {
    display: none;
    position: fixed;
    top:0; left:0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.6);
    justify-content: center;
    align-items: center;
    z-index: 2000;
}
#purchaseContent {
    background: #fff;
    border-radius: 15px;
    padding: 30px;
    text-align: center;
    color: #222;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    width: 400px;
}
#purchaseContent button { margin-top:15px; padding:10px 20px; border:none; border-radius:10px; background:#2a9d8f; color:white; font-size:16px; cursor:pointer; }
#purchaseContent button:hover { background:#21867a; }

/* Rebirth Modal */
#rebirthModal {
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.7);
    justify-content:center;
    align-items:center;
    z-index:1000;
}
#rebirthContent {
    background:#fff;
    color:#222;
    border-radius:15px;
    padding:30px;
    width:400px;
    text-align:center;
}
#rebirthContent h2 { margin-bottom:15px; color:#0072ff; }
#rebirthContent button#doRebirth { margin-top:15px; font-weight:bold; }
#doRebirth.disabled { background:#a3d9a5; color:#666; cursor:not-allowed; }
</style>
</head>
<body>

<h1>Kciuk Clicker ğŸ‘</h1>
<div id="points">Kciuki: 0</div>
<div id="clicker">ğŸ‘</div>
<button id="openShop">OtwÃ³rz Sklep ğŸ›’</button>
<button id="rebirthBtn">Rebirth ğŸ”„</button>

<!-- Sklep modal -->
<div id="shopModal">
    <div id="shopContent">
        <h2>Sklep</h2>
        <div class="upgrade" data-name="Mocny Kciuk" data-cost="10" data-value="1" data-rebirth="0">ğŸ‘ Mocny Kciuk (+1) - <span>10</span> kciukÃ³w</div>
        <div class="upgrade" data-name="Turbo Kciuk" data-cost="50" data-value="5" data-rebirth="0">ğŸš€ Turbo Kciuk (+5) - <span>50</span> kciukÃ³w</div>
        <div class="upgrade" data-name="Mega Kciuk" data-cost="200" data-value="20" data-rebirth="0">ğŸ’¥ Mega Kciuk (+20) - <span>200</span> kciukÃ³w</div>
        <div class="upgrade" data-name="Gwiezdny Kciuk" data-cost="500" data-value="50" data-rebirth="0">ğŸŒŸ Gwiezdny Kciuk (+50) - <span>500</span> kciukÃ³w</div>
        <div class="upgrade" data-name="Supernova Kciuk" data-cost="1000" data-value="120" data-rebirth="0">â˜„ï¸ Supernova Kciuk (+120) - <span>1000</span> kciukÃ³w</div>
        <!-- Nowe przedmioty od rebirth -->
        <div class="upgrade" data-name="Hyper Kciuk" data-cost="5000" data-value="500" data-rebirth="1">âš¡ Hyper Kciuk (+500) - <span>5000</span> kciukÃ³w (Od 1 Rebirthu)</div>
        <div class="upgrade" data-name="Ultra Kciuk" data-cost="10000" data-value="1200" data-rebirth="2">ğŸŒˆ Ultra Kciuk (+1200) - <span>10000</span> kciukÃ³w (Od 2 RebirthÃ³w)</div>
        <div class="upgrade" data-name="Omega Kciuk" data-cost="20000" data-value="3000" data-rebirth="3">ğŸ”¥ Omega Kciuk (+3000) - <span>20000</span> kciukÃ³w (Od 3 RebirthÃ³w)</div>
        <div class="upgrade" data-name="Infinity Kciuk" data-cost="50000" data-value="7000" data-rebirth="4">ğŸŒŒ Infinity Kciuk (+7000) - <span>50000</span> kciukÃ³w (Od 4 RebirthÃ³w)</div>
        <div class="upgrade" data-name="Legendarny Kciuk" data-cost="100000" data-value="15000" data-rebirth="5">ğŸ‘‘ Legendarny Kciuk (+15000) - <span>100000</span> kciukÃ³w (Od 5 RebirthÃ³w)</div>
        <button id="closeShop">Zamknij</button>
    </div>
</div>

<!-- Modal zakupu -->
<div id="purchaseModal">
    <div id="purchaseContent">
        <p id="purchaseText">KupiÅ‚eÅ› przedmiot!</p>
        <button id="closePurchase">Zamknij</button>
    </div>
</div>

<!-- Rebirth Modal -->
<div id="rebirthModal">
    <div id="rebirthContent">
        <h2>Rebirth ğŸ”„</h2>
        <p>Wymagania do rebirthu:</p>
        <p id="rebirthReq">Koszt: 1 000 000 kciukÃ³w</p>
        <button id="doRebirth">Ulepsz</button>
        <p id="rebirthBonus" style="margin-top:15px;">Bonus: x1 kciuki za klikniÄ™cie</p>
    </div>
</div>

<script>
let points = 0;
let clickValue = 1;
let rebirths = 0;

const pointsDisplay = document.getElementById('points');
const clicker = document.getElementById('clicker');
const shopModal = document.getElementById('shopModal');
const openShopBtn = document.getElementById('openShop');
const closeShopBtn = document.getElementById('closeShop');
const upgrades = document.querySelectorAll('.upgrade');
const purchaseModal = document.getElementById('purchaseModal');
const purchaseText = document.getElementById('purchaseText');
const closePurchaseBtn = document.getElementById('closePurchase');
const rebirthBtn = document.getElementById('rebirthBtn');
const rebirthModal = document.getElementById('rebirthModal');
const doRebirthBtn = document.getElementById('doRebirth');
const rebirthReq = document.getElementById('rebirthReq');
const rebirthBonus = document.getElementById('rebirthBonus');

function updatePoints() { pointsDisplay.textContent='Kciuki: '+Math.floor(points); }
function rebirthCost(){ return 1000000 + rebirths*1500000; }
function rebirthMultiplier(){ return 1 + rebirths; }

// Zapis gry
function saveGame(){
    const upgradesLevels = Array.from(upgrades).map(upg=>parseInt(upg.dataset.cost));
    localStorage.setItem('points', points);
    localStorage.setItem('clickValue', clickValue);
    localStorage.setItem('rebirths', rebirths);
    localStorage.setItem('upgradesLevels', JSON.stringify(upgradesLevels));
}

// Wczytanie gry
function loadGame(){
    const savedPoints = parseInt(localStorage.getItem('points'));
    const savedClickValue = parseInt(localStorage.getItem('clickValue'));
    const savedRebirths = parseInt(localStorage.getItem('rebirths'));
    const savedUpgrades = JSON.parse(localStorage.getItem('upgradesLevels'));

    if(!isNaN(savedPoints)) points = savedPoints;
    if(!isNaN(savedClickValue)) clickValue = savedClickValue;
    if(!isNaN(savedRebirths)) rebirths = savedRebirths;
    if(savedUpgrades){
        upgrades.forEach((upg,i)=>{
            upg.dataset.cost = savedUpgrades[i];
            upg.querySelector('span').textContent = savedUpgrades[i];
        });
    }
    updatePoints();
    updateRebirthGUI();
    updateShopLocks();
}

clicker.addEventListener('click', ()=>{
    points += clickValue*rebirthMultiplier();
    updatePoints();
    saveGame();
    const plus = document.createElement('div');
    plus.textContent='+'+Math.floor(clickValue*rebirthMultiplier());
    plus.style.position='absolute';
    plus.style.left=(clicker.getBoundingClientRect().left+window.scrollX+30)+'px';
    plus.style.top=(clicker.getBoundingClientRect().top+window.scrollY-20)+'px';
    plus.style.fontSize='24px';
    plus.style.color='green';
    plus.style.transition='all 0.6s ease-out';
    document.body.appendChild(plus);
    setTimeout(()=>{ plus.style.top=(clicker.getBoundingClientRect().top+window.scrollY-60)+'px'; plus.style.opacity=0; },50);
    setTimeout(()=>plus.remove(),700);
});

openShopBtn.addEventListener('click',()=>{ shopModal.style.display='flex'; updateShopLocks(); });
closeShopBtn.addEventListener('click',()=>shopModal.style.display='none');

upgrades.forEach(upg=>{
    upg.addEventListener('click',()=>{
        let cost=parseInt(upg.dataset.cost);
        let value=parseInt(upg.dataset.value);
        let name=upg.dataset.name;
        if(rebirths >= parseInt(upg.dataset.rebirth)){
            if(points>=cost){
                points-=cost;
                clickValue+=value;
                upg.dataset.cost=Math.floor(cost*2);
                upg.querySelector('span').textContent=upg.dataset.cost;
                updatePoints();
                purchaseText.textContent=`KupiÅ‚eÅ› ${name}!`;
                purchaseModal.style.display='flex';
                saveGame();
            }else{
                purchaseText.textContent=`Nie masz wystarczajÄ…co kciukÃ³w!`;
                purchaseModal.style.display='flex';
            }
        }
    });
});

closePurchaseBtn.addEventListener('click',()=>{purchaseModal.style.display='none';});

// Rebirth
rebirthBtn.addEventListener('click',()=>{
    rebirthModal.style.display='flex';
    updateRebirthGUI();
});

function updateRebirthGUI(){
    const cost = rebirthCost();
    rebirthReq.textContent='Koszt: '+cost.toLocaleString()+' kciukÃ³w';
    rebirthBonus.textContent=`Bonus: x${rebirthMultiplier()} kciuki za klikniÄ™cie`;
    if(points >= cost){
        doRebirthBtn.classList.remove('disabled');
    }else{
        doRebirthBtn.classList.add('disabled');
    }
}

// Rebirth funkcja
doRebirthBtn.addEventListener('click',()=>{
    const cost = rebirthCost();
    if(points>=cost){
        points=0;
        clickValue=1;
        rebirths++;
        upgrades.forEach(upg=>{
            let baseCost = parseInt(upg.getAttribute('data-cost'));
            switch(upg.dataset.name){
                case "Mocny Kciuk": baseCost=10; break;
                case "Turbo Kciuk": baseCost=50; break;
                case "Mega Kciuk": baseCost=200; break;
                case "Gwiezdny Kciuk": baseCost=500; break;
                case "Supernova Kciuk": baseCost=1000; break;
                case "Tytanowy Kciuk": baseCost=5000; break;
                case "Kosmiczny Kciuk": baseCost=10000; break;
                case "Galaktyczny Kciuk": baseCost=20000; break;
                case "WszechÅ›wiatowy Kciuk": baseCost=50000; break;
                case "Boski Kciuk": baseCost=100000; break;
                case "Hyper Kciuk": baseCost=5000; break;
                case "Ultra Kciuk": baseCost=10000; break;
                case "Omega Kciuk": baseCost=20000; break;
                case "Infinity Kciuk": baseCost=50000; break;
                case "Legendarny Kciuk": baseCost=100000; break;
            }
            upg.dataset.cost=baseCost;
            upg.querySelector('span').textContent=baseCost;
        });
        saveGame();
        updatePoints();
        updateRebirthGUI();
        updateShopLocks();
        alert(`Rebirth ukoÅ„czony! TwÃ³j bonus za klikniÄ™cie wynosi x${rebirthMultiplier()}`);
        rebirthModal.style.display='none';
    }
});

rebirthModal.addEventListener('click',(e)=>{if(e.target===rebirthModal) rebirthModal.style.display='none';});

// Blokowanie nowych przedmiotÃ³w w sklepie
function updateShopLocks(){
    upgrades.forEach(upg=>{
        if(rebirths < parseInt(upg.dataset.rebirth)){
            upg.classList.add('locked');
        }else{
            upg.classList.remove('locked');
        }
    });
}

setInterval(updateRebirthGUI,500);
loadGame();
</script>

</body>
</html>
