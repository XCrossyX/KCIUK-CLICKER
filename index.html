<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Kciuk Clicker</title>
<style>
body {
    margin: 0;
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #00c6ff, #0072ff, #00ffc3);
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    color: #fff;
}
h1 { margin: 20px 0; font-size: 48px; text-shadow: 2px 2px #00000055; }
#points { font-size: 28px; margin: 10px; text-shadow:1px 1px #00000055; }
#clicker { font-size:100px; cursor:pointer; user-select:none; transition:transform 0.1s; margin:20px;}
#clicker:active { transform: scale(1.2); }

button { cursor:pointer; border:none; border-radius:10px; padding:10px 20px; font-size:16px; margin:5px;}
#openShop { background:#2a9d8f; color:white; transition:0.2s; }
#openShop:hover { background:#21867a; }
#rebirthBtn { background:#ffb703; color:white; transition: background 0.2s; }
#rebirthBtn:hover { background:#fb8500; }

/* Sklep modal */
#shopModal {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
    z-index: 1000;
}
#shopContent {
    background: #fff;
    border-radius: 15px;
    padding: 20px;
    width: 600px;
    max-width: 90%;
    max-height: 80%;
    overflow-y: auto;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    color: #222;
}
#shopContent h2 { margin-bottom: 20px; color:#0072ff; }
.upgrade {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 90%;
    margin: 10px 0;
    padding: 10px;
    background: #f8f8f8;
    border-radius: 10px;
    border: 2px solid #ccc;
    cursor: pointer;
    transition: transform 0.1s, background 0.2s;
    font-size: 18px;
}
.upgrade:hover { background: #d4f8d4; transform: scale(1.03); }
.upgrade span { font-weight: bold; color: #2a9d8f; }
.upgrade.locked { background:#ddd; color:#888; cursor:not-allowed; }
#closeShop { margin-top:15px; padding:10px 20px; background:#e76f51; color:white; border-radius:10px; }

/* Modal zakupu */
#purchaseModal {
    display: none;
    position: fixed;
    top:0; left:0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.6);
    justify-content: center;
    align-items: center;
    z-index: 2000;
}
#purchaseContent {
    background: #fff;
    border-radius: 15px;
    padding: 30px;
    text-align: center;
    color: #222;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    width: 400px;
}
#purchaseContent button { margin-top:15px; padding:10px 20px; border:none; border-radius:10px; background:#2a9d8f; color:white; font-size:16px; cursor:pointer; }
#purchaseContent button:hover { background:#21867a; }

/* Rebirth Modal */
#rebirthModal {
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.7);
    justify-content:center;
    align-items:center;
    z-index:1000;
}
#rebirthContent {
    background:#fff;
    color:#222;
    border-radius:15px;
    padding:30px;
    width:400px;
    text-align:center;
}
#rebirthContent h2 { margin-bottom:15px; color:#0072ff; }
#rebirthContent button#doRebirth { margin-top:15px; font-weight:bold; }
#doRebirth.disabled { background:#a3d9a5; color:#666; cursor:not-allowed; }
</style>
</head>
<body>

<h1>Kciuk Clicker </h1>
<div id="points">Kciuki: 0</div>
<div id="clicker"></div>
<button id="openShop">Otw贸rz Sklep </button>
<button id="rebirthBtn">Rebirth </button>

<!-- Sklep modal -->
<div id="shopModal">
    <div id="shopContent">
        <h2>Sklep</h2>
        <div class="upgrade" data-name="Mocny Kciuk" data-cost="10" data-value="1"> Mocny Kciuk (+1) - <span>10</span> kciuk贸w</div>
        <div class="upgrade" data-name="Turbo Kciuk" data-cost="50" data-value="5"> Turbo Kciuk (+5) - <span>50</span> kciuk贸w</div>
        <div class="upgrade" data-name="Mega Kciuk" data-cost="200" data-value="20"> Mega Kciuk (+20) - <span>200</span> kciuk贸w</div>
        <div class="upgrade" data-name="Gwiezdny Kciuk" data-cost="500" data-value="50"> Gwiezdny Kciuk (+50) - <span>500</span> kciuk贸w</div>
        <div class="upgrade" data-name="Supernova Kciuk" data-cost="1000" data-value="120">锔 Supernova Kciuk (+120) - <span>1000</span> kciuk贸w</div>
        <!-- Nowe przedmioty z wymaganiami rebirth -->
        <div class="upgrade locked" data-name="Tytanowy Kciuk" data-cost="5000" data-value="500" data-rebirth="1"> Tytanowy Kciuk (+500) - <span>5000</span> kciuk贸w (Od 1 rebirth)</div>
        <div class="upgrade locked" data-name="Kosmiczny Kciuk" data-cost="10000" data-value="1200" data-rebirth="2"> Kosmiczny Kciuk (+1200) - <span>10000</span> kciuk贸w (Od 2 rebirth)</div>
        <div class="upgrade locked" data-name="Galaktyczny Kciuk" data-cost="20000" data-value="2500" data-rebirth="3"> Galaktyczny Kciuk (+2500) - <span>20000</span> kciuk贸w (Od 3 rebirth)</div>
        <div class="upgrade locked" data-name="Wszechwiatowy Kciuk" data-cost="50000" data-value="6000" data-rebirth="4"> Wszechwiatowy Kciuk (+6000) - <span>50000</span> kciuk贸w (Od 4 rebirth)</div>
        <div class="upgrade locked" data-name="Boski Kciuk" data-cost="100000" data-value="15000" data-rebirth="5"> Boski Kciuk (+15000) - <span>100000</span> kciuk贸w (Od 5 rebirth)</div>
        <button id="closeShop">Zamknij</button>
    </div>
</div>

<!-- Modal zakupu -->
<div id="purchaseModal">
    <div id="purchaseContent">
        <p id="purchaseText">Kupie przedmiot!</p>
        <button id="closePurchase">Zamknij</button>
    </div>
</div>

<!-- Rebirth Modal -->
<div id="rebirthModal">
    <div id="rebirthContent">
        <h2>Rebirth </h2>
        <p>Wymagania do rebirthu:</p>
        <p id="rebirthReq">Koszt: 1 000 000 kciuk贸w</p>
        <button id="doRebirth">Ulepsz</button>
        <p id="rebirthBonus" style="margin-top:15px;">Bonus: x1 kciuki za kliknicie</p>
    </div>
</div>

<script>
let points = 0;
let clickValue = 1;
let rebirths = 0;

const pointsDisplay = document.getElementById('points');
const clicker = document.getElementById('clicker');
const shopModal = document.getElementById('shopModal');
const openShopBtn = document.getElementById('openShop');
const closeShopBtn = document.getElementById('closeShop');
const upgrades = document.querySelectorAll('.upgrade');
const purchaseModal = document.getElementById('purchaseModal');
const purchaseText = document.getElementById('purchaseText');
const closePurchaseBtn = document.getElementById('closePurchase');
const rebirthBtn = document.getElementById('rebirthBtn');
const rebirthModal = document.getElementById('rebirthModal');
const doRebirthBtn = document.getElementById('doRebirth');
const rebirthReq = document.getElementById('rebirthReq');
const rebirthBonus = document.getElementById('rebirthBonus');

function updatePoints(){ pointsDisplay.textContent='Kciuki: '+Math.floor(points); }
function rebirthCost(){
    if(rebirths===0) return 1000000;
    else if(rebirths===1) return 2500000;
    else if(rebirths===2) return 5000000;
    else return 10000000 + rebirths*5000000;
}
function rebirthMultiplier(){ return 1 + rebirths; } 

clicker.addEventListener('click', ()=>{
    points += clickValue*rebirthMultiplier();
    updatePoints();
    const plus = document.createElement('div');
    plus.textContent='+'+Math.floor(clickValue*rebirthMultiplier());
    plus.style.position='absolute';
    plus.style.left=(clicker.getBoundingClientRect().left+window.scrollX+30)+'px';
    plus.style.top=(clicker.getBoundingClientRect().top+window.scrollY-20)+'px';
    plus.style.fontSize='24px';
    plus.style.color='green';
    plus.style.transition='all 0.6s ease-out';
    document.body.appendChild(plus);
    setTimeout(()=>{ plus.style.top=(clicker.getBoundingClientRect().top+window.scrollY-60)+'px'; plus.style.opacity=0; },50);
    setTimeout(()=>plus.remove(),700);
});

openShopBtn.addEventListener('click',()=>shopModal.style.display='flex');
closeShopBtn.addEventListener('click',()=>shopModal.style.display='none');

upgrades.forEach(upg=>{
    upg.addEventListener('click',()=>{
        let cost=parseInt(upg.dataset.cost);
        let value=parseInt(upg.dataset.value);
        let name=upg.dataset.name;
        let requiredRebirth = parseInt(upg.dataset.rebirth) || 0;
        if(rebirths < requiredRebirth){
            purchaseText.textContent=`Nie masz wystarczajcej liczby rebirth贸w! Wymaga ${requiredRebirth} rebirth贸w.`;
            purchaseModal.style.display='flex';
            return;
        }
        if(points>=cost){
            points-=cost;
            clickValue+=value;
            upg.dataset.cost=Math.floor(cost*2);
            upg.querySelector('span').textContent=upg.dataset.cost;
            updatePoints();
            purchaseText.textContent=`Kupie ${name}!`;
            purchaseModal.style.display='flex';
        }else{
            purchaseText.textContent=`Nie masz wystarczajco kciuk贸w!`;
            purchaseModal.style.display='flex';
        }
    });
});

closePurchaseBtn.addEventListener('click',()=>{purchaseModal.style.display='none';});

rebirthBtn.addEventListener('click',()=>{
    rebirthModal.style.display='flex';
    updateRebirthGUI();
});

function updateRebirthGUI(){
    const cost = rebirthCost();
    rebirthReq.textContent='Koszt: '+cost.toLocaleString()+' kciuk贸w';
    rebirthBonus.textContent=`Bonus: x${rebirthMultiplier()} kciuki za kliknicie`;
    if(points >= cost){
        doRebirthBtn.classList.remove('disabled');
    }else{
        doRebirthBtn.classList.add('disabled');
    }
    upgrades.forEach(upg=>{
        let requiredRebirth = parseInt(upg.dataset.rebirth) || 0;
        if(rebirths >= requiredRebirth){
            upg.classList.remove('locked');
        } else {
            upg.classList.add('locked');
        }
    });
}

doRebirthBtn.addEventListener('click', ()=>{
    const cost = rebirthCost();
    if(points >= cost){
        points = 0; 
        clickValue = 1; 
        rebirths++; 
        upgrades.forEach(upg => {
            let baseCost = 0;
            switch(upg.dataset.name){
                case "Mocny Kciuk": baseCost=10; break;
                case "Turbo Kciuk": baseCost=50; break;
                case "Mega Kciuk": baseCost=200; break;
                case "Gwiezdny Kciuk": baseCost=500; break;
                case "Supernova Kciuk": baseCost=1000; break;
                default: baseCost = parseInt(upg.dataset.cost); break;
            }
            upg.dataset.cost = baseCost;
            upg.querySelector('span').textContent = baseCost;
        });
        updatePoints();
        updateRebirthGUI();
        alert(`Gratulacje! Tw贸j bonus za kliknicie wynosi teraz x${rebirthMultiplier()}`);
        rebirthModal.style.display='none';
    }
});

rebirthModal.addEventListener('click',(e)=>{
    if(e.target === rebirthModal) rebirthModal.style.display='none';
});

setInterval(updateRebirthGUI,500);
updatePoints();
</script>

</body>
  </html>
